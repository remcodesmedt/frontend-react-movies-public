(this["webpackJsonpfrontendweb-thomas-2122-remcodesmedt"]=this["webpackJsonpfrontendweb-thomas-2122-remcodesmedt"]||[]).push([[0],{110:function(e,t,r){},111:function(e,t,r){},14:function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return i}));var n=r(76),c=r.n(n),a=(r(56),c.a.create({baseURL:"https://remcodesmedt-api-movies.herokuapp.com/api"})),i=function(e){e?a.defaults.headers.Authorization="Bearer ".concat(e):delete a.defaults.headers.Authorization}},142:function(e,t,r){"use strict";r.r(t);var n=r(1),c=r.n(n),a=r(43),i=r.n(a),s=(r(110),r(111),r(21)),o=r(11),u=r(9),j=r(6),d=r(24),l=r(7),b=r(49),O=r(31),h=r(37),p=r(8),f=r(5),x=r.n(f),m=r(14),g="/categories",v=function(){var e=Object(p.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get(g);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(p.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.post(g,t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(p.a)(x.a.mark((function e(t,r){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.put("".concat(g,"/").concat(t),r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),C=function(){var e=Object(p.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.delete("".concat(g,"/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=r(2),D=Object(n.createContext)(),I=function(e){var t=e.children,r=Object(n.useState)([]),c=Object(u.a)(r,2),a=c[0],i=c[1],s=Object(n.useState)(!0),o=Object(u.a)(s,2),j=o[0],d=o[1],l=Object(n.useState)(""),b=Object(u.a)(l,2),O=b[0],h=b[1],f=Object(n.useCallback)(Object(p.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(""),d(!0),e.next=5,v();case 5:t=e.sent,i(t.data),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),h(e.t0);case 12:return e.prev=12,d(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])}))),[]),m=Object(n.useCallback)(function(){var e=Object(p.a)(x.a.mark((function e(t,r,n){var c,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(""),d(!0),""===r&&(r=null),c={categoryName:t,description:r,linkCat:n},e.next=7,y(c);case 7:return a=e.sent,e.next=10,f();case 10:return e.abrupt("return",a);case 13:e.prev=13,e.t0=e.catch(0),h(e.t0);case 16:return e.prev=16,d(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[0,13,16,19]])})));return function(t,r,n){return e.apply(this,arguments)}}(),[f]),g=Object(n.useCallback)(function(){var e=Object(p.a)(x.a.mark((function e(t,r,n,c){var a,i;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(""),d(!0),""===n&&(n=null),a={categoryName:r,description:n,linkCat:c},e.next=7,w(t,a);case 7:return i=e.sent,e.next=10,f();case 10:return e.abrupt("return",i);case 13:e.prev=13,e.t0=e.catch(0),h(e.t0);case 16:return e.prev=16,d(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[0,13,16,19]])})));return function(t,r,n,c){return e.apply(this,arguments)}}(),[f]),I=Object(n.useCallback)(function(){var e=Object(p.a)(x.a.mark((function e(t){var r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(""),d(!0),e.next=5,C(t);case 5:return r=e.sent,e.next=8,f();case 8:return e.abrupt("return",r);case 11:e.prev=11,e.t0=e.catch(0),h(e.t0);case 14:return e.prev=14,d(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[0,11,14,17]])})));return function(t){return e.apply(this,arguments)}}(),[f]);Object(n.useEffect)((function(){f()}),[f]);var S=Object(n.useMemo)((function(){return{CATEGORY_DATA:a,loading:j,error:O,removeCategory:I,editCategory:g,addCategory:m}}),[a,j,O,I,g,m]);return Object(k.jsx)(D.Provider,{value:S,children:t})},S=r(27),L=r(12),P=r(28),N=r(73);function _(e){var t=e.isPost,r=e.categoryID,c=e.categoryName,a=e.description,i=e.link,s=e.setEditCatPressed,o=e.setEditPressedComp,u=e.setAddCatPressed,b=Object(n.useContext)(D),O=b.editCategory,h=b.addCategory,p=Object(S.a)(),f=p.register,x=p.handleSubmit,m=p.formState.errors,g=Object(n.useCallback)((function(e){var n=e.name,c=e.description,a=e.link;t?(h(n,c,a),u(!1)):(O(r,n,c,a),s(!1))}),[r,O,s,h,t,u]),v=Object(n.useCallback)((function(){o(!1),s(!1)}),[s,o]),y=Object(n.useCallback)((function(){t?u(!1):v()}),[t,u,v]);return Object(k.jsx)("form",{onSubmit:x(g),children:Object(k.jsx)(j.a,{marginTop:"2",children:Object(k.jsxs)(j.b,{flexDirection:"column",children:[Object(k.jsx)(L.a,{id:"link",marginBottom:"2",children:Object(k.jsxs)(j.b,{justifyContent:"space-between",alignItems:"center",children:[Object(k.jsx)(L.b,{fontWeight:"400",width:"40%",children:"Picture URL"}),Object(k.jsx)(P.a,Object(l.a)(Object(l.a)({},f("link",{required:"Link is a required field!",pattern:{value:/[(http(s)?)://(www.)?a-zA-Z0-9@:%._+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_+.~#?&//=]*)/,message:"Should be a URL"}})),{},{type:"url",width:"60%",defaultValue:i,"data-cy":"category_link_input"}))]})}),Object(k.jsx)(L.a,{id:"name",marginBottom:"2",children:Object(k.jsxs)(j.b,{justifyContent:"space-between",alignItems:"center",children:[Object(k.jsx)(L.b,{fontWeight:"400",width:"40%",children:"Name"}),Object(k.jsx)(P.a,Object(l.a)(Object(l.a)({},f("name",{required:"Name is a required field!"})),{},{type:"text",width:"60%",defaultValue:c,"data-cy":"category_name_input"}))]})}),Object(k.jsx)(L.a,{id:"description",children:Object(k.jsxs)(j.b,{justifyContent:"space-between",alignItems:"center",children:[Object(k.jsx)(L.b,{fontWeight:"400",width:"40%",children:"Description"}),Object(k.jsx)(N.a,Object(l.a)(Object(l.a)({},f("description")),{},{maxLength:"100",width:"60%",defaultValue:a,"data-cy":"category_description_input"}))]})}),0!==Object.keys(m).length?Object.values(m).map((function(e,t){return Object(k.jsx)(j.f,{color:"red",children:e.message},t)})):null,Object(k.jsxs)(j.b,{justifyContent:"space-between",children:[Object(k.jsx)(d.a,{marginTop:"3",width:"29%",onClick:y,children:"Cancel"}),Object(k.jsx)(d.a,{type:"submit",marginTop:"3",width:"69%","data-cy":"category_submit",children:t?"Create":"Update"})]})]})})})}function M(e){var t=e.categoryID,r=e.categoryName,c=e.description,a=e.linkCat,i=e.editCatPressed,s=e.setEditCatPressed,o=e.isDetail,l=Object(n.useContext)(D).removeCategory,p=Object(n.useState)(!1),f=Object(u.a)(p,2),x=f[0],m=f[1],g=Object(n.useCallback)((function(){l(t)}),[l,t]),v=Object(n.useCallback)((function(){m(!x),s(!i)}),[i,x,s]);return Object(k.jsx)(j.a,{padding:"3",paddingLeft:"0",paddingTop:"0",width:"100%",children:Object(k.jsxs)(j.a,{border:"1px",borderRadius:"15px",padding:"3",children:[Object(k.jsx)(j.a,{width:"100%",height:"200",marginBottom:"2",children:Object(k.jsx)(b.a,{src:a,alt:"categoryImage",boxSize:"100%",objectFit:"cover",marginBottom:"3",borderRadius:"15px","data-cy":"category_link"})}),Object(k.jsxs)(j.b,{marginBottom:"2",justifyContent:"space-between",children:[Object(k.jsx)(j.c,{size:"md","data-cy":"category_name",children:r}),o?null:Object(k.jsxs)(j.a,{children:[Object(k.jsx)(d.b,{disabled:i,marginLeft:"2",size:"sm",icon:Object(k.jsx)(h.a,{size:25}),onClick:v,"data-cy":"category_edit_button"}),Object(k.jsx)(d.b,{disabled:i,marginLeft:"2",size:"sm",icon:Object(k.jsx)(O.b,{size:25}),onClick:g})]})]}),Object(k.jsx)(j.f,{"data-cy":"category_description",children:null===c?Object(k.jsx)("b",{children:"no description found"}):c}),x?Object(k.jsx)(_,{isPost:!1,categoryID:t,categoryName:r,description:c,link:a,setEditPressedComp:m,setEditCatPressed:s}):null]})})}var T={base:"100%",md:"50%",lg:"33%"};function A(){var e=Object(n.useState)(!1),t=Object(u.a)(e,2),r=t[0],c=t[1],a=Object(n.useState)(!1),i=Object(u.a)(a,2),s=i[0],o=i[1],b=Object(n.useContext)(D),O=b.CATEGORY_DATA,h=b.loading,p=b.error,f=Object(n.useCallback)((function(){o(!s)}),[s]);return h?Object(k.jsx)(j.f,{children:"Loading..."}):p?Object(k.jsxs)(j.f,{marginLeft:"3",children:[p.message," "]}):Object(k.jsxs)(j.a,{children:[Object(k.jsxs)(j.b,{children:[Object(k.jsx)(j.c,{size:"lg",marginLeft:"10",marginBottom:"5",children:"Categories"}),Object(k.jsx)(d.a,{disabled:s,marginLeft:"3",marginRight:"3",onClick:f,children:"Add category"})]}),Object(k.jsx)(j.b,{wrap:"wrap",marginLeft:"10",marginRight:"10","data-cy":"category_overview_cats",children:s?Object(k.jsx)(_,{isPost:!0,setAddCatPressed:o}):O.length>0?O.map((function(e){return Object(k.jsx)(j.a,{width:T,children:Object(k.jsx)(M,Object(l.a)(Object(l.a)({},e),{},{editCatPressed:r,setEditCatPressed:c}))},e.categoryID)})):Object(k.jsx)(j.f,{children:"No Categories found!"})})]})}var R="/directors",B=function(){var e=Object(p.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get(R);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),z=function(){var e=Object(p.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.post(R,t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(p.a)(x.a.mark((function e(t,r){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.put("".concat(R,"/").concat(t),r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),W=function(){var e=Object(p.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.delete("".concat(R,"/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=Object(n.createContext)(),F=function(e){var t=e.children,r=Object(n.useState)([]),c=Object(u.a)(r,2),a=c[0],i=c[1],s=Object(n.useState)(!0),o=Object(u.a)(s,2),j=o[0],d=o[1],l=Object(n.useState)(""),b=Object(u.a)(l,2),O=b[0],h=b[1],f=Object(n.useCallback)(Object(p.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(""),d(!0),e.next=5,B();case 5:t=e.sent,i(t.data),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),h(e.t0);case 12:return e.prev=12,d(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])}))),[]),m=Object(n.useCallback)(function(){var e=Object(p.a)(x.a.mark((function e(t,r,n,c,a){var i,s;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(""),d(!0),""===n&&(n=null),""===c&&(c=null),i={directorLastName:t,directorFirstName:r,birthdate:n,country:c,linkDir:a},e.next=8,z(i);case 8:return s=e.sent,e.next=11,f();case 11:return e.abrupt("return",s);case 14:e.prev=14,e.t0=e.catch(0),h(e.t0);case 17:return e.prev=17,d(!1),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[0,14,17,20]])})));return function(t,r,n,c,a){return e.apply(this,arguments)}}(),[f]),g=Object(n.useCallback)(function(){var e=Object(p.a)(x.a.mark((function e(t,r,n,c,a,i){var s,o;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(""),d(!0),""===c&&(c=null),""===a&&(a=null),s={directorLastName:r,directorFirstName:n,birthdate:c,country:a,linkDir:i},e.next=8,E(t,s);case 8:return o=e.sent,e.next=11,f();case 11:return e.abrupt("return",o);case 14:e.prev=14,e.t0=e.catch(0),h(e.t0);case 17:return e.prev=17,d(!1),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[0,14,17,20]])})));return function(t,r,n,c,a,i){return e.apply(this,arguments)}}(),[f]),v=Object(n.useCallback)(function(){var e=Object(p.a)(x.a.mark((function e(t){var r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(""),d(!0),e.next=5,W(t);case 5:return r=e.sent,e.next=8,f();case 8:return e.abrupt("return",r);case 11:e.prev=11,e.t0=e.catch(0),h(e.t0);case 14:return e.prev=14,d(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[0,11,14,17]])})));return function(t){return e.apply(this,arguments)}}(),[f]);Object(n.useEffect)((function(){f()}),[f]);var y=Object(n.useMemo)((function(){return{DIRECTOR_DATA:a,loading:j,error:O,removeDirector:v,editDirector:g,addDirector:m}}),[a,j,O,v,g,m]);return Object(k.jsx)(q.Provider,{value:y,children:t})};function V(e){var t=e.isPost,r=e.directorID,c=e.directorLastName,a=e.directorFirstName,i=e.birthdate,s=e.country,o=e.link,u=e.setEditDirPressed,b=e.setEditDirPressedComp,O=e.setAddDirPressed,h=Object(n.useContext)(q),p=h.editDirector,f=h.addDirector,x=Object(S.a)(),m=x.register,g=x.handleSubmit,v=x.formState.errors,y=Object(n.useCallback)((function(e){var n=e.directorLastName,c=e.directorFirstName,a=e.birthdate,i=e.country,s=e.link;t?(f(n,c,a,i,s),O(!1)):(p(r,n,c,a,i,s),u(!1))}),[r,p,u,f,t,O]),w=Object(n.useCallback)((function(){b(!1),u(!1)}),[u,b]),C=Object(n.useCallback)((function(){t?O(!1):w()}),[t,O,w]);return Object(k.jsx)("form",{onSubmit:g(y),children:Object(k.jsx)(j.a,{marginTop:"2",children:Object(k.jsxs)(j.b,{flexDirection:"column",children:[Object(k.jsx)(L.a,{id:"link",marginBottom:"2",children:Object(k.jsxs)(j.b,{justifyContent:"space-between",alignItems:"center",children:[Object(k.jsx)(L.b,{fontWeight:"400",width:"40%",children:"Picture URL"}),Object(k.jsx)(P.a,Object(l.a)(Object(l.a)({},m("link",{required:"Picture URL is a required field!",pattern:{value:/[(http(s)?)://(www.)?a-zA-Z0-9@:%._+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_+.~#?&//=]*)/,message:"Should be a URL"}})),{},{type:"url",width:"60%",defaultValue:o}))]})}),Object(k.jsx)(L.a,{id:"directorLastName",marginBottom:"2",children:Object(k.jsxs)(j.b,{justifyContent:"space-between",alignItems:"center",children:[Object(k.jsx)(L.b,{fontWeight:"400",width:"40%",children:"Last name"}),Object(k.jsx)(P.a,Object(l.a)(Object(l.a)({},m("directorLastName",{required:"Last name is a required field!"})),{},{type:"text",width:"60%",defaultValue:c}))]})}),Object(k.jsx)(L.a,{id:"directorFirstName",marginBottom:"2",children:Object(k.jsxs)(j.b,{justifyContent:"space-between",alignItems:"center",children:[Object(k.jsx)(L.b,{fontWeight:"400",width:"40%",children:"First name"}),Object(k.jsx)(P.a,Object(l.a)(Object(l.a)({},m("directorFirstName",{required:"First name is a required field!"})),{},{type:"text",width:"60%",defaultValue:a}))]})}),Object(k.jsx)(L.a,{id:"birthdate",marginBottom:"2",children:Object(k.jsxs)(j.b,{justifyContent:"space-between",alignItems:"center",children:[Object(k.jsx)(L.b,{fontWeight:"400",width:"40%",children:"Birthdate"}),Object(k.jsx)(P.a,Object(l.a)(Object(l.a)({},m("birthdate")),{},{type:"date",width:"60%",defaultValue:i}))]})}),Object(k.jsx)(L.a,{id:"country",marginBottom:"2",children:Object(k.jsxs)(j.b,{justifyContent:"space-between",alignItems:"center",children:[Object(k.jsx)(L.b,{fontWeight:"400",width:"40%",children:"Country"}),Object(k.jsx)(P.a,Object(l.a)(Object(l.a)({},m("country")),{},{type:"text",width:"60%",defaultValue:s}))]})}),0!==Object.keys(v).length?Object.values(v).map((function(e,t){return Object(k.jsx)(j.f,{color:"red",children:e.message},t)})):null,Object(k.jsxs)(j.b,{justifyContent:"space-between",children:[Object(k.jsx)(d.a,{marginTop:"3",width:"29%",onClick:C,children:"Cancel"}),Object(k.jsx)(d.a,{type:"submit",marginTop:"3",width:"69%",children:t?"Create":"update"})]})]})})})}var U=function(e){if(null===e||""===e)return null;return new Intl.DateTimeFormat("en-UK",{month:"long",day:"numeric",year:"numeric"}).format(new Date(Date.parse(e)))};function Y(e){var t=e.directorID,r=e.directorLastName,c=e.directorFirstName,a=e.birthdate,i=e.country,s=e.linkDir,o=e.editDirPressed,l=e.setEditDirPressed,p=e.isDetail,f=Object(n.useContext)(q).removeDirector,x=Object(n.useState)(!1),m=Object(u.a)(x,2),g=m[0],v=m[1],y=Object(n.useCallback)((function(){f(t)}),[f,t]),w=Object(n.useCallback)((function(){v(!g),l(!o)}),[o,g,l]);return Object(k.jsx)(j.a,{padding:"3",paddingLeft:"0",paddingTop:"0",width:"100%",children:Object(k.jsxs)(j.a,{border:"1px",borderRadius:"15px",padding:"3",children:[Object(k.jsx)(j.a,{width:"100%",height:"200",marginBottom:"2",children:Object(k.jsx)(b.a,{src:s,alt:"directorImage",boxSize:"100%",objectFit:"contain",marginBottom:"3",borderRadius:"15px"})}),Object(k.jsxs)(j.b,{marginBottom:"2",justifyContent:"space-between",children:[Object(k.jsxs)(j.c,{size:"md",children:[c," ",r]}),p?null:Object(k.jsxs)(j.a,{children:[Object(k.jsx)(d.b,{disabled:o,marginLeft:"2",size:"sm",icon:Object(k.jsx)(h.a,{size:25}),onClick:w}),Object(k.jsx)(d.b,{disabled:o,marginLeft:"2",size:"sm",icon:Object(k.jsx)(O.b,{size:25}),onClick:y})]})]}),Object(k.jsxs)(j.f,{children:["Birthdate: ","",null===a||""===a?Object(k.jsx)("b",{children:"No birthdate found!"}):U(a)]}),Object(k.jsxs)(j.f,{children:["Country: ",null!==i&&void 0!==i?i:Object(k.jsx)("b",{children:"No country found!"})]}),g?Object(k.jsx)(V,{isPost:!1,directorID:t,directorLastName:r,directorFirstName:c,birthdate:a,country:i,link:s,setEditDirPressedComp:v,setEditDirPressed:l}):null]})})}var Z={base:"100%",md:"50%",lg:"33%"};function J(){var e=Object(n.useState)(!1),t=Object(u.a)(e,2),r=t[0],c=t[1],a=Object(n.useState)(!1),i=Object(u.a)(a,2),s=i[0],o=i[1],b=Object(n.useContext)(q),O=b.DIRECTOR_DATA,h=b.loading,p=b.error,f=Object(n.useCallback)((function(){o(!s)}),[s]);return h?Object(k.jsx)(j.f,{children:"Loading..."}):p?Object(k.jsxs)(j.f,{marginLeft:"3",children:[p.message," "]}):Object(k.jsxs)(j.a,{children:[Object(k.jsxs)(j.b,{children:[Object(k.jsx)(j.c,{size:"lg",marginLeft:"10",marginBottom:"5",children:"Directors"}),Object(k.jsx)(d.a,{marginLeft:"3",disabled:s,onClick:f,children:"Add director"})]}),Object(k.jsx)(j.b,{wrap:"wrap",marginLeft:"10",marginRight:"10",children:s?Object(k.jsx)(V,{isPost:!0,setAddDirPressed:o}):O.length>0?O.map((function(e){return Object(k.jsx)(j.a,{width:Z,children:Object(k.jsx)(Y,Object(l.a)(Object(l.a)({},e),{},{editDirPressed:r,setEditDirPressed:c}))},e.directorID)})):Object(k.jsx)(j.f,{children:"No directors found!"})})]})}var G="/movies",K=function(){var e=Object(p.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get(G);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=Object(p.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.post(G,t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=Object(p.a)(x.a.mark((function e(t,r){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.put("".concat(G,"/").concat(t),r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),X=function(){var e=Object(p.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.delete("".concat(G,"/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$=Object(n.createContext)(),ee=function(e){var t=e.children,r=Object(n.useState)([]),c=Object(u.a)(r,2),a=c[0],i=c[1],s=Object(n.useState)(!0),o=Object(u.a)(s,2),j=o[0],d=o[1],l=Object(n.useState)(""),b=Object(u.a)(l,2),O=b[0],h=b[1],f=Object(n.useCallback)(Object(p.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(""),d(!0),e.next=5,K();case 5:t=e.sent,i(t.data),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),h(e.t0);case 12:return e.prev=12,d(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])}))),[]),m=Object(n.useCallback)(function(){var e=Object(p.a)(x.a.mark((function e(t,r,n,c,a,i,s){var o,u;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(""),d(!0),""===a&&(a=null),""===i&&(i=null),""===s&&(s=null),o={linkMov:t,categoryID:r,directorID:n,title:c,yearOfRelease:a,rating:i,durationInMinutes:s},e.next=9,H(o);case 9:return u=e.sent,e.next=12,f();case 12:return e.abrupt("return",u);case 15:e.prev=15,e.t0=e.catch(0),h(e.t0);case 18:return e.prev=18,d(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[0,15,18,21]])})));return function(t,r,n,c,a,i,s){return e.apply(this,arguments)}}(),[f]),g=Object(n.useCallback)(function(){var e=Object(p.a)(x.a.mark((function e(t,r,n,c,a,i,s,o){var u,j;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(""),d(!0),""===i&&(i=null),""===s&&(s=null),""===o&&(o=null),u={linkMov:t,categoryID:n,directorID:c,title:a,yearOfRelease:i,rating:s,durationInMinutes:o},e.next=9,Q(r,u);case 9:return j=e.sent,e.next=12,f();case 12:return e.abrupt("return",j);case 15:e.prev=15,e.t0=e.catch(0),h(e.t0);case 18:return e.prev=18,d(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[0,15,18,21]])})));return function(t,r,n,c,a,i,s,o){return e.apply(this,arguments)}}(),[f]),v=Object(n.useCallback)(function(){var e=Object(p.a)(x.a.mark((function e(t){var r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(""),d(!0),e.next=5,X(t);case 5:return r=e.sent,e.next=8,f();case 8:return e.abrupt("return",r);case 11:e.prev=11,e.t0=e.catch(0),h(e.t0);case 14:return e.prev=14,d(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[0,11,14,17]])})));return function(t){return e.apply(this,arguments)}}(),[f]);Object(n.useEffect)((function(){f()}),[f]);var y=Object(n.useMemo)((function(){return{MOVIE_DATA:a,loading:j,error:O,removeMovie:v,editMovie:g,addMovie:m}}),[a,j,O,v,g,m]);return Object(k.jsx)($.Provider,{value:y,children:t})},te=r(74),re=r(75);function ne(e){var t=e.isPost,r=e.movieID,c=e.linkMov,a=e.category,i=e.director,s=e.title,o=e.yearOfRelease,u=e.rating,b=e.durationInMinutes,O=e.setEditMovPressed,h=e.setEditMovPressedComp,p=e.setAddMovPressed,f=Object(n.useContext)($),x=f.editMovie,m=f.addMovie,g=Object(n.useContext)(D).CATEGORY_DATA,v=Object(n.useContext)(q).DIRECTOR_DATA,y=Object(S.a)(),w=y.register,C=y.handleSubmit,I=y.formState.errors,N=Object(n.useCallback)((function(e){var n=e.link,c=e.categoryID,a=e.directorID,i=e.title,s=e.yearOfRelease,o=e.rating,u=e.durationInMinutes;t?(console.log(n),m(n,c,a,i,s,o,u),p(!1)):(x(n,r,c,a,i,s,o,u),O(!1))}),[m,x,t,r,p,O]),_=Object(n.useCallback)((function(){O(!1),h(!1)}),[O,h]),M=Object(n.useCallback)((function(){t?p(!1):_()}),[t,p,_]);return console.log(a),console.log(i),Object(k.jsx)("form",{onSubmit:C(N),children:Object(k.jsx)(j.a,{marginTop:"2",children:Object(k.jsxs)(j.b,{flexDirection:"column",children:[Object(k.jsx)(L.a,{id:"link",marginBottom:"2",children:Object(k.jsxs)(j.b,{justifyContent:"space-between",alignItems:"center",children:[Object(k.jsx)(L.b,{fontWeight:"400",width:"40%",children:"Picture URL"}),Object(k.jsx)(P.a,Object(l.a)(Object(l.a)({},w("link",{required:"Link is a required field!",pattern:{value:/[(http(s)?)://(www.)?a-zA-Z0-9@:%._+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_+.~#?&//=]*)/,message:"Should be a URL"}})),{},{type:"url",width:"60%",defaultValue:c,placeholder:"https://yourlink.com"}))]})}),Object(k.jsx)(L.a,{id:"category",marginBottom:"2",children:Object(k.jsxs)(j.b,{justifyContent:"space-between",alignItems:"center",children:[Object(k.jsx)(L.b,{fontWeight:"400",width:"40%",children:"Category"}),Object(k.jsx)(te.a,Object(l.a)(Object(l.a)({},w("categoryID",{required:"Category is a required field!"})),{},{width:"60%",placeholder:"Select category",defaultValue:a?a.categoryID:null,children:g.map((function(e){return Object(k.jsx)("option",{value:e.categoryID,children:e.categoryName},e.categoryID)}))}))]})}),Object(k.jsx)(L.a,{id:"director",marginBottom:"2",children:Object(k.jsxs)(j.b,{justifyContent:"space-between",alignItems:"center",children:[Object(k.jsx)(L.b,{fontWeight:"400",width:"40%",children:"Director"}),Object(k.jsx)(te.a,Object(l.a)(Object(l.a)({},w("directorID",{required:"Director is a required field!"})),{},{width:"60%",placeholder:"Select director",defaultValue:i?i.directorID:null,children:v.map((function(e){return Object(k.jsx)("option",{value:e.directorID,children:"".concat(e.directorFirstName," ").concat(e.directorLastName)},e.directorID)}))}))]})}),Object(k.jsx)(L.a,{id:"title",marginBottom:"2",children:Object(k.jsxs)(j.b,{justifyContent:"space-between",alignItems:"center",children:[Object(k.jsx)(L.b,{fontWeight:"400",width:"40%",children:"Title"}),Object(k.jsx)(P.a,Object(l.a)(Object(l.a)({},w("title",{required:"title is a required field!"})),{},{type:"text",width:"60%",defaultValue:s,placeholder:"Title"}))]})}),Object(k.jsx)(L.a,{id:"year",marginBottom:"2",children:Object(k.jsxs)(j.b,{justifyContent:"space-between",alignItems:"center",children:[Object(k.jsx)(L.b,{fontWeight:"400",width:"40%",children:"Year of release"}),Object(k.jsx)(P.a,Object(l.a)(Object(l.a)({},w("yearOfRelease")),{},{type:"number",width:"60%",defaultValue:o,placeholder:"Year"}))]})}),Object(k.jsx)(L.a,{id:"rating",marginBottom:"2",children:Object(k.jsxs)(j.b,{justifyContent:"space-between",alignItems:"center",children:[Object(k.jsx)(L.b,{fontWeight:"400",width:"40%",children:"Rating (/10)"}),Object(k.jsxs)(re.c,{width:"60%",defaultValue:null!==u&&void 0!==u?u:5,max:10,min:0,precision:1,step:.1,children:[Object(k.jsx)(re.d,Object(l.a)({},w("rating"))),Object(k.jsxs)(re.e,{children:[Object(k.jsx)(re.b,{}),Object(k.jsx)(re.a,{})]})]})]})}),Object(k.jsx)(L.a,{id:"durationInMinutes",children:Object(k.jsxs)(j.b,{justifyContent:"space-between",alignItems:"center",children:[Object(k.jsx)(L.b,{fontWeight:"400",width:"40%",children:"Duration"}),Object(k.jsxs)(P.b,{width:"60%",children:[Object(k.jsx)(P.a,Object(l.a)(Object(l.a)({},w("durationInMinutes")),{},{type:"number",defaultValue:b,placeholder:0})),Object(k.jsx)(P.c,{children:"minutes"})]})]})}),0!==Object.keys(I).length?Object.values(I).map((function(e,t){return Object(k.jsx)(j.f,{color:"red",children:e.message},t)})):null,Object(k.jsxs)(j.b,{justifyContent:"space-between",children:[Object(k.jsx)(d.a,{marginTop:"3",width:"29%",onClick:M,children:"Cancel"}),Object(k.jsx)(d.a,{type:"submit",marginTop:"3",width:"69%",children:t?"Create":"Update"})]})]})})})}var ce=function(e){var t=Math.floor(e/60),r=e-60*t;return"".concat(t,"h ").concat(r,"m")};function ae(e){var t=e.movieID,r=e.linkMov,c=e.category,a=e.director,i=e.title,s=e.yearOfRelease,l=e.rating,p=e.durationInMinutes,f=e.editMovPressed,x=e.setEditMovPressed,m=e.isDetail,g=Object(n.useContext)($).removeMovie,v=Object(o.h)().pathname,y=Object(n.useState)(!1),w=Object(u.a)(y,2),C=w[0],D=w[1],I=Object(n.useState)(!1),S=Object(u.a)(I,2),L=S[0],P=S[1],N="/movie/".concat(t),_=Object(n.useCallback)((function(){g(t)}),[g,t]),M=Object(n.useCallback)((function(){D(!C),x(!f)}),[f,C,x]),T=Object(n.useCallback)((function(){P(!L)}),[L]);return Object(k.jsx)(j.a,{padding:"3",paddingLeft:"0",paddingTop:"0",width:"100%",children:Object(k.jsxs)(j.a,{border:"1px",borderRadius:"15px",padding:"3",children:[Object(k.jsxs)(j.a,{width:"100%",height:"200",marginBottom:"2",children:[Object(k.jsx)(b.a,{src:r,alt:"movieImage",boxSize:"100%",objectFit:"contain",marginBottom:"3",borderRadius:"15px",cursor:"pointer",onClick:T}),L?Object(k.jsx)(o.a,{from:v,to:N,push:!0}):null]}),Object(k.jsxs)(j.b,{marginBottom:"2",justifyContent:"space-between",children:[Object(k.jsx)(j.c,{size:"md",children:i}),m?null:Object(k.jsxs)(j.a,{children:[Object(k.jsx)(d.b,{disabled:f,marginLeft:"2",size:"sm",icon:Object(k.jsx)(h.a,{size:25}),onClick:M}),Object(k.jsx)(d.b,{disabled:f,marginLeft:"2",size:"sm",icon:Object(k.jsx)(O.b,{size:25}),onClick:_})]})]}),Object(k.jsxs)(j.f,{children:["Category: ",c.categoryName]}),Object(k.jsxs)(j.f,{children:["Director: ",a.firstName," ",a.lastName]}),Object(k.jsxs)(j.f,{children:["Year of release: ",null!==s&&void 0!==s?s:"UNKNOWN"]}),Object(k.jsxs)(j.f,{children:["Rating: ",null!==l&&void 0!==l?l:"No rating yet"]}),Object(k.jsxs)(j.f,{children:["Duration:"," ",p?ce(p):"UNKNOWN"]}),C?Object(k.jsx)(ne,{isPost:!1,movieID:t,linkMov:r,category:c,director:a,title:i,yearOfRelease:s,rating:l,durationInMinutes:p,setEditMovPressed:x,setEditMovPressedComp:D}):null]})})}var ie={base:"100%",md:"50%",lg:"33%"};function se(){var e=Object(n.useState)(!1),t=Object(u.a)(e,2),r=t[0],c=t[1],a=Object(n.useState)(!1),i=Object(u.a)(a,2),s=i[0],o=i[1],b=Object(n.useContext)($),O=b.MOVIE_DATA,h=b.loading,p=b.error,f=Object(n.useCallback)((function(){o(!s)}),[s]);return h?Object(k.jsx)(j.f,{children:"Loading"}):p?Object(k.jsx)(j.f,{marginLeft:"3",children:p.message}):Object(k.jsxs)(j.a,{children:[Object(k.jsxs)(j.b,{children:[Object(k.jsx)(j.c,{size:"lg",marginLeft:"10",marginBottom:"5",children:"Movies"}),Object(k.jsx)(d.a,{disabled:s,marginLeft:"3",onClick:f,children:"Add movie"})]}),Object(k.jsx)(j.b,{wrap:"wrap",marginLeft:"10",marginRight:"10",children:s?Object(k.jsx)(ne,{isPost:!0,setAddMovPressed:o}):O.length>0?O.map((function(e){return Object(k.jsx)(j.a,{width:ie,children:Object(k.jsx)(ae,Object(l.a)(Object(l.a)({},e),{},{editMovPressed:r,setEditMovPressed:c}))},e.movieID)})):Object(k.jsx)(j.f,{children:"No movies found!"})})]})}var oe=r(22),ue={fontSize:"1.4em",position:"absolute",top:"0.5rem",left:"0.5rem"},je={border:"1px solid black",borderRadius:"8px",padding:"3px"};function de(){var e=Object(oe.e)().isAuthed,t=Object(oe.c)(),r=Object(n.useState)(!1),c=Object(u.a)(r,2),a=c[0],i=c[1],o=Object(n.useRef)(!0),l=Object(n.useCallback)((function(){i(!a)}),[a]);Object(n.useLayoutEffect)((function(){o.current?o.current=!1:"black"===document.body.style.backgroundColor?(document.body.style.backgroundColor="white",document.body.style.color="black"):(document.body.style.backgroundColor="black",document.body.style.color="grey")}),[a]);var b=Object(n.useCallback)((function(){t()}),[t]);return Object(k.jsxs)(j.b,{width:"100%",position:"relative",justifyContent:"center",padding:"2",paddingTop:"2",children:[Object(k.jsx)(j.a,{style:ue,children:Object(k.jsxs)(j.g,{listStyleType:"none",margin:"0",children:[Object(k.jsx)(j.d,{marginBottom:"2",children:Object(k.jsx)(s.b,{to:"/about",style:je,children:"About"})}),Object(k.jsx)(j.d,{marginBottom:"2",children:Object(k.jsx)(s.b,{to:"/contact",style:je,children:"Contact"})}),e?Object(k.jsx)("button",{style:je,onClick:b,children:"Logout"}):Object(k.jsx)(j.d,{children:Object(k.jsx)(s.b,{to:"/login",style:je,children:"Login"})})]})}),Object(k.jsx)(s.b,{to:"/home",children:Object(k.jsx)(j.c,{size:"2xl",justifySelf:"center",children:"Movies"})}),Object(k.jsx)(d.b,{"data-cy":"darkmode_button",onClick:l,bg:"lightgrey",position:"absolute",top:"2",right:"2",icon:a?Object(k.jsx)(O.c,{}):Object(k.jsx)(O.a,{})})]})}function le(e){var t,r=Object(n.useState)("Movies"),c=Object(u.a)(r,2),a=c[0],i=c[1],s=Object(n.useCallback)((function(e){i(e.target.innerText)}),[]);"Categories"===a&&(t=Object(k.jsx)(A,{})),"Directors"===a&&(t=Object(k.jsx)(J,{})),"Movies"===a&&(t=Object(k.jsx)(se,{}));var o=Object(n.useCallback)((function(e){return a===e}),[a]);return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(de,{}),Object(k.jsxs)(j.e,{margin:"2",marginTop:"10",marginBottom:"10",direction:"row",spacing:5,justifyContent:"center",children:[Object(k.jsx)(d.a,{colorScheme:"teal",onClick:s,isActive:o("Categories"),"data-cy":"home_category_button",children:"Categories"}),Object(k.jsx)(d.a,{colorScheme:"teal",onClick:s,isActive:o("Movies"),children:"Movies"}),Object(k.jsx)(d.a,{colorScheme:"teal",onClick:s,isActive:o("Directors"),children:"Directors"})]}),t]})}function be(){return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(de,{}),Object(k.jsx)(j.b,{justifyContent:"center",marginTop:"3",children:Object(k.jsx)(j.c,{size:"md",children:"This is the about page"})})]})}function Oe(){return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(de,{}),Object(k.jsx)(j.b,{justifyContent:"center",marginTop:"3",children:Object(k.jsx)(j.c,{size:"md",children:"This is the contact page"})})]})}function he(){var e=Object(o.h)().pathname,t=Object(n.useState)(!1),r=Object(u.a)(t,2),c=r[0],a=r[1];return Object(n.useEffect)((function(){setTimeout((function(){a(!0)}),5e3)}),[]),Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)(j.a,{padding:"5",children:[Object(k.jsx)(j.c,{size:"xl",children:"Page not found"}),Object(k.jsxs)(j.f,{children:["There is no page with URL ",e]}),Object(k.jsx)(j.f,{children:"You will soon be redirected to the home page."})]}),c?Object(k.jsx)(o.a,{from:e,to:"/home"}):null]})}function pe(){var e=Object(o.i)().id,t=Number(e),r=Object(n.useContext)($),c=r.MOVIE_DATA,a=r.loading,i=r.error;if(a)return Object(k.jsx)(j.f,{children:"Loading"});if(i)return Object(k.jsx)(j.f,{marginLeft:"3",children:"Could not fetch movies, the web server may be down."});var s=c.filter((function(e){return e.movieID===t}))[0],u=s.category,d=s.director;return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(de,{}),Object(k.jsxs)(j.b,{justifyContent:"center",margin:"4",marginTop:"100px",children:[Object(k.jsx)(M,{categoryID:u.categoryID,categoryName:u.categoryName,description:u.description,linkCat:u.linkCat,isDetail:!0}),Object(k.jsx)(ae,{movieID:s.movieID,linkMov:s.linkMov,category:u,director:d,title:s.title,yearOfRelease:s.yearOfRelease,rating:s.rating,durationInMinutes:s.durationInMinutes,isDetail:!0}),Object(k.jsx)(Y,{directorID:d.directorID,directorLastName:d.directorLastName,directorFirstName:d.directorFirstName,birthdate:d.birthdate,country:d.country,linkDir:d.linkDir,isDetail:!0})]})]})}function fe(){var e=Object(oe.e)(),t=e.loading,r=e.error,c=e.isAuthed,a=Object(o.g)(),i=Object(oe.b)(),s=Object(S.a)(),u=s.register,b=s.handleSubmit,O=s.formState.errors,h=s.reset,f=Object(n.useCallback)((function(){h()}),[h]),m=Object(n.useCallback)(function(){var e=Object(p.a)(x.a.mark((function e(t){var r,n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.email,n=t.password,e.next=3,i(r,n);case 3:e.sent&&a.replace("/");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[i,a]);return Object(n.useEffect)((function(){c&&a.replace("/")}),[c,a]),Object(k.jsxs)("form",{onSubmit:b(m),children:[Object(k.jsx)(L.a,{id:"email",marginBottom:"2",children:Object(k.jsxs)(j.b,{justifyContent:"space-between",alignItems:"center",children:[Object(k.jsx)(L.b,{fontWeight:"400",width:"30%",children:"Email"}),Object(k.jsx)(P.a,Object(l.a)(Object(l.a)({},u("email",{required:"Please enter your email-address."})),{},{type:"email",width:"70%",placeholder:"example@hotmail.com","data-cy":"login_input_email"}))]})}),Object(k.jsx)(L.a,{id:"password",children:Object(k.jsxs)(j.b,{justifyContent:"space-between",alignItems:"center",children:[Object(k.jsx)(L.b,{fontWeight:"400",width:"30%",children:"Password"}),Object(k.jsx)(P.a,Object(l.a)(Object(l.a)({},u("password",{required:"Please enter your password."})),{},{type:"password",width:"70%",placeholder:"password","data-cy":"login_input_password"}))]})}),r?Object(k.jsx)(j.f,{color:"red",children:r}):null,0!==Object.keys(O).length?Object.values(O).map((function(e,t){return Object(k.jsx)(j.f,{color:"red",children:e.message},t)})):null,Object(k.jsxs)(j.b,{justifyContent:"space-between",children:[Object(k.jsx)(d.a,{marginTop:"3",width:"29%",onClick:f,children:"Cancel"}),Object(k.jsx)(d.a,{type:"submit",isDisabled:t,marginTop:"3",width:"69%","data-cy":"login_submit",children:"Login"})]})]})}var xe={color:"blue",textDecoration:"underline"};function me(){return Object(k.jsx)(k.Fragment,{children:Object(k.jsx)(j.b,{justifyContent:"center",marginTop:"3",height:"50vh",alignItems:"center",children:Object(k.jsxs)(j.a,{border:"1px solid black",borderRadius:"15px",padding:"3",width:"80%",minWidth:"350px",maxWidth:"550px",children:[Object(k.jsxs)(j.b,{children:[Object(k.jsx)(j.c,{size:"lg",marginBottom:"3",children:"Login"}),Object(k.jsxs)(j.f,{size:"lg",marginLeft:"auto",marginTop:"1",children:["Don't have an account?"," ",Object(k.jsx)(s.b,{to:"/register",style:xe,children:"Register!"})]})]}),Object(k.jsx)(fe,{})]})})})}function ge(){var e=Object(oe.e)(),t=e.loading,r=e.isAuthed,c=Object(o.g)(),a=Object(oe.d)(),i=Object(n.useState)(""),s=Object(u.a)(i,2),b=s[0],O=s[1],h=Object(S.a)(),f=h.register,m=h.handleSubmit,g=h.formState.errors,v=h.reset,y=h.getValues,w=Object(n.useCallback)((function(){v()}),[v]),C=Object(n.useCallback)(function(){var e=Object(p.a)(x.a.mark((function e(t){var r,n,i,s,o,u;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.email,n=t.username,i=t.password,e.next=3,a(r,n,i);case 3:s=e.sent,o=s.gelukt,u=s.message,o?c.replace("/"):O(u);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[a,c]);return Object(n.useEffect)((function(){r&&c.replace("/")}),[r,c]),Object(k.jsxs)("form",{onSubmit:m(C),children:[Object(k.jsx)(L.a,{id:"email",marginBottom:"2",children:Object(k.jsxs)(j.b,{justifyContent:"space-between",alignItems:"center",children:[Object(k.jsx)(L.b,{fontWeight:"400",width:"30%",children:"Email"}),Object(k.jsx)(P.a,Object(l.a)(Object(l.a)({},f("email",{required:"Please enter your email-address."})),{},{type:"email",width:"70%",placeholder:"example@hotmail.com","data-cy":"register_input_email"}))]})}),Object(k.jsx)(L.a,{id:"username",marginBottom:"2",children:Object(k.jsxs)(j.b,{justifyContent:"space-between",alignItems:"center",children:[Object(k.jsx)(L.b,{fontWeight:"400",width:"30%",children:"Username"}),Object(k.jsx)(P.a,Object(l.a)(Object(l.a)({},f("username",{required:"Please enter your username."})),{},{type:"text",width:"70%",placeholder:"yourname","data-cy":"register_input_username"}))]})}),Object(k.jsx)(L.a,{id:"password",marginBottom:"2",children:Object(k.jsxs)(j.b,{justifyContent:"space-between",alignItems:"center",children:[Object(k.jsx)(L.b,{fontWeight:"400",width:"30%",children:"Password"}),Object(k.jsx)(P.a,Object(l.a)(Object(l.a)({},f("password",{required:"Please enter your password."})),{},{type:"password",width:"70%",placeholder:"password","data-cy":"register_input_password"}))]})}),Object(k.jsx)(L.a,{id:"repeatpassword",children:Object(k.jsxs)(j.b,{justifyContent:"space-between",alignItems:"center",children:[Object(k.jsx)(L.b,{fontWeight:"400",width:"30%",children:"Repeat password"}),Object(k.jsx)(P.a,Object(l.a)(Object(l.a)({},f("repeatpassword",{required:"Please enter your password.",validate:{notIdentical:function(e){return y("password")===e?null:"Both passwords need to be identical"}}})),{},{type:"password",width:"70%",placeholder:"password","data-cy":"register_input_repeatpassword"}))]})}),b?Object(k.jsx)(j.f,{color:"red",children:b}):null,0!==Object.keys(g).length?Object.values(g).map((function(e,t){return Object(k.jsx)(j.f,{color:"red",children:e.message},t)})):null,Object(k.jsxs)(j.b,{justifyContent:"space-between",children:[Object(k.jsx)(d.a,{marginTop:"3",width:"29%",onClick:w,children:"Cancel"}),Object(k.jsx)(d.a,{type:"submit",isDisabled:t,marginTop:"3",width:"69%","data-cy":"login_submit",children:"Login"})]})]})}function ve(){return Object(k.jsx)(k.Fragment,{children:Object(k.jsx)(j.b,{justifyContent:"center",marginTop:"3",height:"50vh",alignItems:"center",children:Object(k.jsxs)(j.a,{border:"1px solid black",borderRadius:"15px",padding:"3",width:"80%",minWidth:"350px",maxWidth:"550px",children:[Object(k.jsx)(j.b,{children:Object(k.jsx)(j.c,{size:"lg",marginBottom:"3",children:"Register"})}),Object(k.jsx)(ge,{})]})})})}var ye=r(79),we=["children"];function Ce(e){var t=e.children,r=Object(ye.a)(e,we),n=Object(oe.e)().isAuthed,c=Object(o.h)().pathname;return Object(k.jsx)(o.b,Object(l.a)(Object(l.a)({},r),{},{children:n?t:Object(k.jsx)(o.a,{from:c,to:"/login"})}))}var ke=function(){return Object(k.jsx)(oe.a,{children:Object(k.jsx)(ee,{children:Object(k.jsx)(I,{children:Object(k.jsx)(F,{children:Object(k.jsx)(s.a,{children:Object(k.jsxs)(o.d,{children:[Object(k.jsx)(o.b,{exact:!0,path:"/home",children:Object(k.jsx)(le,{})}),Object(k.jsx)(o.b,{exact:!0,path:"/login",children:Object(k.jsx)(me,{})}),Object(k.jsx)(o.b,{exact:!0,path:"/register",children:Object(k.jsx)(ve,{})}),Object(k.jsx)(Ce,{exact:!0,path:"/about",children:Object(k.jsx)(be,{})}),Object(k.jsx)(Ce,{exact:!0,path:"/contact",children:Object(k.jsx)(Oe,{})}),Object(k.jsx)(Ce,{exact:!0,path:"/movie/:id",children:Object(k.jsx)(pe,{})}),Object(k.jsx)(o.b,{path:"*",children:Object(k.jsx)(he,{})})]})})})})})})},De=r(20);i.a.render(Object(k.jsxs)(c.a.StrictMode,{children:[Object(k.jsx)(De.a,{children:Object(k.jsx)(ke,{})})," "]}),document.getElementById("root"))},22:function(e,t,r){"use strict";(function(e){r.d(t,"e",(function(){return h})),r.d(t,"b",(function(){return p})),r.d(t,"c",(function(){return f})),r.d(t,"d",(function(){return x})),r.d(t,"a",(function(){return m}));var n=r(8),c=r(9),a=r(5),i=r.n(a),s=r(1),o=r(62),u=r(56),j=r(14),d=r(2),l=Object(s.createContext)(),b=u.token_key,O=function(){return Object(s.useContext)(l)},h=function(){var e=O(),t=e.loading,r=e.token;return{loading:t,token:r,user:e.user,ready:e.ready,error:e.error,isAuthed:Boolean(r)}},p=function(){return O().login},f=function(){return O().logout},x=function(){return O().register},m=function(t){var r=t.children,a=Object(s.useState)(!1),u=Object(c.a)(a,2),O=u[0],h=u[1],p=Object(s.useState)(localStorage.getItem(b)),f=Object(c.a)(p,2),x=f[0],m=f[1],g=Object(s.useState)(null),v=Object(c.a)(g,2),y=v[0],w=v[1],C=Object(s.useState)(!1),k=Object(c.a)(C,2),D=k[0],I=k[1],S=Object(s.useCallback)((function(t){var r,n=function(t){if(!t)return{};var r=t.split(".")[1],n=e.from(r,"base64").toString("ascii");return JSON.parse(n)}(t),c=n.exp,a=((r=c)?("number"!==typeof r&&(r=Number(r)),isNaN(r)?null:new Date(1e3*r)):null)>=new Date;a?localStorage.setItem(b,t):(localStorage.removeItem(b),t=null),j.b(t),m(t),I(a)}),[]),L=Object(s.useCallback)(function(){var e=Object(n.a)(i.a.mark((function e(t,r){var n,c,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(!0),e.next=4,o.a(t,r);case 4:return n=e.sent,c=n.token,a=n.user,S(c),w(a),e.abrupt("return",!0);case 12:return e.prev=12,e.t0=e.catch(0),e.abrupt("return",!1);case 15:return e.prev=15,h(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[0,12,15,18]])})));return function(t,r){return e.apply(this,arguments)}}(),[S]),P=Object(s.useCallback)((function(){S(null),w(null)}),[S]),N=Object(s.useCallback)(function(){var e=Object(n.a)(i.a.mark((function e(t,r,n){var c,a,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(!0),e.next=4,o.b(t,r,n);case 4:return c=e.sent,a=c.token,s=c.user,S(a),w(s),e.abrupt("return",{gelukt:!0});case 12:return e.prev=12,e.t0=e.catch(0),e.abrupt("return",{gelukt:!1,message:e.t0.message});case 15:return e.prev=15,h(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[0,12,15,18]])})));return function(t,r,n){return e.apply(this,arguments)}}(),[S]);Object(s.useEffect)((function(){I(Boolean(x)),j.b(x),x?localStorage.setItem(b,x):localStorage.removeItem(b)}),[x]);var _=Object(s.useMemo)((function(){return{token:x,user:y,loading:O,login:L,logout:P,register:N,ready:D}}),[x,y,O,L,P,N,D]);return Object(d.jsx)(l.Provider,{value:_,children:r})}}).call(this,r(138).Buffer)},56:function(e){e.exports=JSON.parse('{"base_url":"http://localhost:9000/api","token_key":"auth_token"}')},62:function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return o}));var n=r(8),c=r(5),a=r.n(c),i=r(14),s=function(){var e=Object(n.a)(a.a.mark((function e(t,r){var n,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.post("/users/login",{userEmail:t,password:r});case 2:return n=e.sent,c=n.data,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),o=function(){var e=Object(n.a)(a.a.mark((function e(t,r,n){var c,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.post("/users/register",{userEmail:t,userName:r,password:n});case 2:return c=e.sent,s=c.data,e.abrupt("return",s);case 5:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()}},[[142,1,2]]]);
//# sourceMappingURL=main.dd06da0e.chunk.js.map